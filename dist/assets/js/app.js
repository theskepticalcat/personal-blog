!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),n(2),n(3),e.exports=n(4)},function(e,t){function n(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var r=JSON.parse(localStorage.getItem("posts"))||[],a=r.length,i=document.querySelector(".wall"),c=document.querySelector("#add-post__form"),s=document.querySelector(".add-post__send"),l=document.querySelector(".add-post__textarea"),d=document.querySelector("#add-post-file"),u=(document.querySelector(".post__preview"),document.querySelector(".post__delete-btn"),document.querySelector(".add-post__image-preview")),f=document.querySelector(".add-post__image");f.src;l.value="";var m,p=(m=c.elements,function(e){if(Array.isArray(e))return o(e)}(m)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||n(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"BUTTON"!==e.tagName}));console.log(p);var v={};console.log(v),s.addEventListener("click",(function(e){document.location.reload();var t,o={},i=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=n(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw i}}}}(p);try{for(i.s();!(t=i.n()).done;){var c=t.value;o[c.name]=c.value}}catch(e){i.e(e)}finally{i.f()}o.id=a++,o.image=v.base64,r.push(o),localStorage.setItem("posts",JSON.stringify(r)),y(),l.value=""})),d.addEventListener("change",(function(e){var t=e.target,n=new FileReader,o=t.files[0];v.fileName=o.name,v.size=o.size,console.log(o),n.readAsBinaryString(o),n.addEventListener("load",(function(e){v.base64=btoa(e.target.result),f.src="data:image/gpeg;base64,".concat(v.base64),f.classList.remove("hidden"),u.classList.remove("hidden"),u.style.paddingTop="1.5rem"}))}));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;e.forEach((function(e){var t=document.createElement("div");e.time=(new Date).toLocaleDateString(),e.image?t.innerHTML='\n            <article class="post" data-id-item="'.concat(e.id,'">\n                <div class="post__header post__header--preview">\n                    <a href="">\n                        <img class="post__preview" src="data:image/gpeg;base64,').concat(e.image,'" alt="?">\n                    </a>\n                </div>\n\n                <div class="post__content">\n                    <h2 class="post__title">\n                        <a href="post.html">Как писать код быстро и безболезненно?</a>\n                    </h2>\n                    <p class="post__description">').concat(e.postText,'</p>\n                </div>\n                <div class="post__header"></div>\n\n                <div class="post__footer">\n                    <ul class="post__data">\n                        <li class="post__data-item">\n                            <time datetime="2021-06-21 15:30">').concat(e.time,'</time>\n                        </li>\n                        <li class="post__data-item">\n                            <a href="#">создание сайтов</a>\n                        </li>\n                    </ul>\n\n                    <div>\n                        <a class="post__read" href="#">читать</a>\n                        <button class="post__delete-btn" href="#">удалить</button>\n                    </div>\n                </div>\n            </article>\n            '):t.innerHTML='\n            <div class="post" data-id-item="'.concat(e.id,'">\n                <div class="post__content">\n                    <p class="post__description">').concat(e.postText,'</p>\n                </div>\n\n                <div class="post__footer">\n                    <ul class="post__data">\n                        <li class="post__data-item">\n                            <time datetime="2021-06-21 15:30">').concat(e.time,'</time>\n                        </li>\n                    </ul>\n\n                    <div>\n                        <a class="post__read" href="#">читать</a>\n                        <button class="post__delete-btn" href="#">удалить</button>\n                    <div>\n                </div>\n            </div>\n            '),i.insertAdjacentElement("afterbegin",t)}))};y()},function(e,t){var n=document.getElementById("sidebarToggle"),o=(document.getElementById("sidebar"),document.getElementById("page")),r=document.body;function a(){r.classList.remove("show-sidebar"),document.querySelector(".page__mask").remove()}n.addEventListener("click",(function(e){var t;r.classList.contains("show-sidebar")?a():((t=document.createElement("div")).classList.add("page__mask"),o.appendChild(t),r.classList.add("show-sidebar"),t.addEventListener("click",a))}))},function(e,t){body=document.body;var n=document.querySelectorAll("[data-modal]"),o=document.querySelectorAll(".modal__close"),r=document.querySelectorAll(".modal");function a(e){e.querySelector(".modal__content").removeAttribute("style"),setTimeout((function(){e.classList.remove("show"),body.classList.remove("no-scroll")}),200)}n.forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-modal"),n=document.getElementById(t),o=n.querySelector(".modal__content");o.addEventListener("click",(function(e){e.stopPropagation()})),n.classList.add("show"),body.classList.add("no-scroll"),setTimeout((function(){o.style.transform="none",o.style.opacity="1"}),1)}))})),o.forEach((function(e){e.addEventListener("click",(function(e){a(e.currentTarget.closest(".modal"))}))})),r.forEach((function(e){e.addEventListener("click",(function(e){a(e.currentTarget)}))}))},function(e,t){var n=document.querySelectorAll("[data-autoresize]");n.value="",n.forEach((function(e){var t=e.offsetHeight;e.addEventListener("input",(function(e){var n=e.target;n.style.height=t+"px",n.style.height=n.scrollHeight+"px"}))}))}]);